let $form=$(".controller"),$txtNub=$('input[type="number"]'),$btnDraw=$('input[type="button"]'),Data=[],chart=null;function onGenClick(t){t.preventDefault(),$btnDraw.removeAttribute("disabled"),generateData(),displayDataTable()}function onDrawClick(){chart=echarts.init($(".diagram"));let t={title:{text:"串联信道容量函数曲线",x:"center",y:0},tooltip:{formatter:"(pi, C0, C1, C2)：({c})"},grid:[{left:"15%",width:"70%"}],xAxis:{type:"value",axisPointer:{show:"true"}},yAxis:{type:"value",axisPointer:{show:"true"}},series:[{name:"信道容量 1",type:"line",smooth:"true",data:Data,encode:{x:[0],y:[1]}},{name:"信道容量 2",type:"line",smooth:"true",data:Data,encode:{x:[0],y:[2]}},{name:"信道容量 3",type:"line",smooth:"true",data:Data,encode:{x:[0],y:[3]}}]};chart.setOption(t,!0)}function generateData(){let t=1/($txtNub.value-1);Data=[];for(let a=0;a<1;a+=t){let t=[];t.push(roundFractional(a,3)),t.push(c(a)),t.push(c(2*a*(1-a))),t.push(c(Math.pow(a,3)+3*a*Math.pow(1-a,2))),Data.push(t)}1!==Data[Data.length-1][0]&&Data.push([1,1,1,1])}function displayDataTable(){$(".data-table").innerHTML="<table><thead><tr><td>NO.</td><td>p</td><td>C0</td><td>C1</td><td>C2</td></tr><tbody></tbody></table>";let t=$("tbody"),a="";for(let t=0;t<Data.length;t++)a+=`<tr><td>${t+1}</td><td>${Data[t][0]}</td><td>${Data[t][1]}</td><td>${Data[t][2]}</td><td>${Data[t][3]}</td></tr>`;t.innerHTML=a}$form.onsubmit=onGenClick,$btnDraw.onclick=onDrawClick,window.onresize=function(){null!==chart&&chart.resize()};